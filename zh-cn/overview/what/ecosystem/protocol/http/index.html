<!doctype html><html lang=zh-cn class=no-js><head><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/protocol/http/><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?3b78f49ba47181e4d998a66b689446e9",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel="shortcut icon" type=image/png href=/imgs/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><title>http | Apache Dubbo</title><meta property="og:title" content="http"><meta property="og:description" content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><meta property="og:type" content="article"><meta property="og:url" content="https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/protocol/http/"><meta property="article:section" content="overview"><meta property="article:modified_time" content="2023-02-22T15:03:22+08:00"><meta property="og:site_name" content="Apache Dubbo"><meta itemprop=name content="http"><meta itemprop=description content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><meta itemprop=dateModified content="2023-02-22T15:03:22+08:00"><meta itemprop=wordCount content="1654"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="http"><meta name=twitter:description content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-NM6FFMT51J","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=preload href=/scss/main.min.578ffe330fde90c98ec1a836a78e3a4f7ea2a73a72f353cdd331fc3f8dd3a3cd.css as=style><link href=/scss/main.min.578ffe330fde90c98ec1a836a78e3a4f7ea2a73a72f353cdd331fc3f8dd3a3cd.css rel=stylesheet integrity><script src=/js/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><meta property="og:description" content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><meta name=twitter:description content="基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持
特性说明 此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。 支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。
使用场景 使用方式 快速入门 在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。
这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）
http://localhost:8080/users/register 而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。
首先，开发服务的接口
public class UserService { void registerUser(User user); } 然后，开发服务的实现
@Path(&#34;users&#34;) public class UserServiceImpl implements UserService { @POST @Path(&#34;register&#34;) @Consumes({MediaType.APPLICATION_JSON}) public void registerUser(User user) { // save the user."><meta property="og:url" content="https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/protocol/http/"><meta property="og:title" content="http"><meta name=twitter:title content="http"><meta name=twitter:image:alt content="Apache Dubbo"><meta property="og:type" content="article"><meta name=viewport content="width=device-width"><script async defer src=/js/github-buttons.js></script>
<link href=/css/community.css rel=stylesheet><link href=/css/contactus.css rel=stylesheet><link href=/css/language.css rel=stylesheet><script src=/js/script.js></script></head><body class="td-page td-documentation"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh-cn/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Apache Dubbo</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/overview/home/><span>文档</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/docs3-v2/><span>SDK 手册</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog/><span>博客</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/download/><span>版本发布</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/contact/><span>联系社区</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh-cn/github/><span>Github</span><i class='fa-brands fa-github'></i></a></li><li class="nav-item dropdown d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav><div lang=zh-cn id=announcement style="background-color:#3371e3;color:#fff;background-image:linear-gradient(90deg,#f99106 0%,#fc1d44 100%)"><aside><div class=announcement-main data-nosnippet><h4><img alt=announcement-apache-dubbo src=/imgs/contacts/wechat-account.jpg style=float:right;width:10%;height:auto>
<a href=#>Apache Dubbo 全新改版网站与文档</a> <em>正式上线！</em></h4><p>新版文档仍处于持续完善中，涵盖 Dubbo3 及最新特性使用方式，我们计划在未来几个月内为用户提供最完善、易用的使用体验！<br>可扫码反馈问题！ 2023-02-21.</p></div></aside></div></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-md-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cnoverview-li><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewhome-li><a href=/zh-cn/overview/home/ title="Dubbo 文档" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewhome><span>主页</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewquickstart-li><a href=/zh-cn/overview/quickstart/ title="Dubbo 入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewquickstart><span>入门</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewquickstartjava-li><a href=/zh-cn/overview/quickstart/java/ title="Java 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewquickstartjava><span>Java</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartjavabrief-li><a href=/zh-cn/overview/quickstart/java/brief/ title="1 - 零基础快速部署一个微服务应用" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartjavabrief><span>快速部署一个微服务应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartjavaapi-li><a href=/zh-cn/overview/quickstart/java/api/ title="2 - 基于 Dubbo API 开发微服务应用" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartjavaapi><span>基于 Dubbo API 开发微服务应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartjavaspring-boot-li><a href=/zh-cn/overview/quickstart/java/spring-boot/ title="3 - Dubbo x Spring Boot 开发微服务应用" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartjavaspring-boot><span>Dubbo x Spring Boot 开发微服务应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartjavaspring-xml-li><a href=/zh-cn/overview/quickstart/java/spring-xml/ title="4 - Dubbo x Spring XML 开发微服务应用" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartjavaspring-xml><span>Dubbo x Spring XML 开发微服务应用</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewquickstartgo-li><a href=/zh-cn/overview/quickstart/go/ title="Go 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewquickstartgo><span>Go</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartgoinstall-li><a href=/zh-cn/overview/quickstart/go/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartgoinstall><span>安装 Dubbo-go 开发环境</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartgoquickstart_triple-li><a href=/zh-cn/overview/quickstart/go/quickstart_triple/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartgoquickstart_triple><span>完成一次 RPC 调用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartgoquickstart_triple_with_customize-li><a href=/zh-cn/overview/quickstart/go/quickstart_triple_with_customize/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewquickstartgoquickstart_triple_with_customize><span>完成一次自己定义接口的 RPC 调用</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartnodejs-li><a href=https://github.com/apache/dubbo-js title="Node.js 微服务开发入门" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewquickstartnodejs><i class="fas fa-external-link-alt"></i><span>Node.js</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewquickstartrust-li><a href=/zh-cn/overview/quickstart/rust/ title="Rust 微服务开发入门" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewquickstartrust><span>Rust</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cnoverviewwhat-li><a href=/zh-cn/overview/what/ title="Dubbo 介绍" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhat><span>介绍</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatoverview-li><a href=/zh-cn/overview/what/overview/ title="了解 Dubbo 核心概念和架构" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatoverview><span>概念与架构</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatxyz-difference-li><a href=/zh-cn/overview/what/xyz-difference/ title="与 gRPC、Spring Cloud、Istio 的关系" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatxyz-difference><span>与 gRPC、Spring Cloud、Istio 关系</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatadvantages-li><a href=/zh-cn/overview/what/advantages/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatadvantages><span>核心优势</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatadvantagesusability-li><a href=/zh-cn/overview/what/advantages/usability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatadvantagesusability><span>快速易用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatadvantagesperformance-li><a href=/zh-cn/overview/what/advantages/performance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatadvantagesperformance><span>超高性能</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatadvantagesgovernance-li><a href=/zh-cn/overview/what/advantages/governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatadvantagesgovernance><span>服务治理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatadvantagesproduction-ready-li><a href=/zh-cn/overview/what/advantages/production-ready/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatadvantagesproduction-ready><span>生产环境验证</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cnoverviewwhatecosystem-li><a href=/zh-cn/overview/what/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystem><span>生态</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zh-cnoverviewwhatecosystemprotocol-li><a href=/zh-cn/overview/what/ecosystem/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemprotocol><span>协议</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocoldubbo-li><a href=/zh-cn/overview/what/ecosystem/protocol/dubbo/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocoldubbo><span>Dubbo</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocoltriple-li><a href=/zh-cn/overview/what/ecosystem/protocol/triple/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocoltriple><span>Triple</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocolhttp-li><a href=/zh-cn/overview/what/ecosystem/protocol/http/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocolhttp><span class=td-sidebar-nav-active-item>http</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocolgrpc-li><a href=/zh-cn/overview/what/ecosystem/protocol/grpc/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocolgrpc><span>gRPC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocolthrift-li><a href=/zh-cn/overview/what/ecosystem/protocol/thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocolthrift><span>Thrift</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zh-cnoverviewwhatecosystemprotocolrmi-li><a href=/zh-cn/overview/what/ecosystem/protocol/rmi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemprotocolrmi><span>RMI</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemserialization-li><a href=/zh-cn/overview/what/ecosystem/serialization/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemserialization><span>序列化</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationhessian-li><a href=/zh-cn/overview/what/ecosystem/serialization/hessian/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationhessian><span>Hessian</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationfastjson2-li><a href=/zh-cn/overview/what/ecosystem/serialization/fastjson2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationfastjson2><span>Fastjson2</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationprotobuf-li><a href=/zh-cn/overview/what/ecosystem/serialization/protobuf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationprotobuf><span>Protobuf</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationfastjson-li><a href=/zh-cn/overview/what/ecosystem/serialization/fastjson/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationfastjson><span>Fastjson</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationavro-li><a href=/zh-cn/overview/what/ecosystem/serialization/avro/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationavro><span>Avro</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationfst-li><a href=/zh-cn/overview/what/ecosystem/serialization/fst/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationfst><span>FST</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationgson-li><a href=/zh-cn/overview/what/ecosystem/serialization/gson/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationgson><span>Gson</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationkryo-li><a href=/zh-cn/overview/what/ecosystem/serialization/kryo/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationkryo><span>Kryo</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemserializationmsgpack-li><a href=/zh-cn/overview/what/ecosystem/serialization/msgpack/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemserializationmsgpack><span>MessagePack</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemregistry-li><a href=/zh-cn/overview/what/ecosystem/registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemregistry><span>注册中心</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistryzookeeper-li><a href=/zh-cn/overview/what/ecosystem/registry/zookeeper/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistryzookeeper><span>Zookeeper</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistrynacos-li><a href=/zh-cn/overview/what/ecosystem/registry/nacos/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistrynacos><span>Nacos</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistryconsul-li><a href=/zh-cn/overview/what/ecosystem/registry/consul/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistryconsul><span>Consul</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistryeureka-li><a href=/zh-cn/overview/what/ecosystem/registry/eureka/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistryeureka><span>Eureka</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistrypolaris-li><a href=/zh-cn/overview/what/ecosystem/registry/polaris/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistrypolaris><span>Polaris</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistrysofa-li><a href=/zh-cn/overview/what/ecosystem/registry/sofa/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistrysofa><span>Sofa</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemregistryetcd-li><a href=/zh-cn/overview/what/ecosystem/registry/etcd/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemregistryetcd><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemconfig-center-li><a href=/zh-cn/overview/what/ecosystem/config-center/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemconfig-center><span>配置中心</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemconfig-centerzookeeper-li><a href=/zh-cn/overview/what/ecosystem/config-center/zookeeper/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemconfig-centerzookeeper><span>Zookeeper</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemconfig-centernacos-li><a href=/zh-cn/overview/what/ecosystem/config-center/nacos/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemconfig-centernacos><span>Nacos</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemconfig-centerapollo-li><a href=/zh-cn/overview/what/ecosystem/config-center/apollo/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemconfig-centerapollo><span>Apollo</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemmetadata-center-li><a href=/zh-cn/overview/what/ecosystem/metadata-center/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemmetadata-center><span>元数据中心</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmetadata-centerzookeeper-li><a href=/zh-cn/overview/what/ecosystem/metadata-center/zookeeper/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmetadata-centerzookeeper><span>Zookeeper</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmetadata-centernacos-li><a href=/zh-cn/overview/what/ecosystem/metadata-center/nacos/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmetadata-centernacos><span>Nacos</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmetadata-centerredis-li><a href=/zh-cn/overview/what/ecosystem/metadata-center/redis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmetadata-centerredis><span>Redis</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemgateway-li><a href=/zh-cn/overview/what/ecosystem/gateway/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemgateway><span>网关</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewayapisix-li><a href=/zh-cn/overview/what/ecosystem/gateway/apisix/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewayapisix><span>Apache APISIX</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewayshenyu-li><a href=/zh-cn/overview/what/ecosystem/gateway/shenyu/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewayshenyu><span>Apache Shenyu</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewayhigress-li><a href=/zh-cn/overview/what/ecosystem/gateway/higress/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewayhigress><span>Higress</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewaypixiu-li><a href=/zh-cn/overview/what/ecosystem/gateway/pixiu/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewaypixiu><span>Apache Dubbo Go Pixiu</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewaykong-li><a href=/zh-cn/overview/what/ecosystem/gateway/kong/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewaykong><span>Kong</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemgatewaytengine-li><a href=/zh-cn/overview/what/ecosystem/gateway/tengine/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemgatewaytengine><span>Tengine</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemservice-mesh-li><a href=/zh-cn/overview/what/ecosystem/service-mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemservice-mesh><span>Service Mesh</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemservice-meshistio-li><a href=/zh-cn/overview/what/ecosystem/service-mesh/istio/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemservice-meshistio><span>istio</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemservice-meshaeraki-li><a href=/zh-cn/overview/what/ecosystem/service-mesh/aeraki/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemservice-meshaeraki><span>Aeraki</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemrate-limit-li><a href=/zh-cn/overview/what/ecosystem/rate-limit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemrate-limit><span>限流降级</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemrate-limitsentinel-li><a href=/zh-cn/overview/what/ecosystem/rate-limit/sentinel/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemrate-limitsentinel><span>Sentinel</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemrate-limithystrix-li><a href=/zh-cn/overview/what/ecosystem/rate-limit/hystrix/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemrate-limithystrix><span>Hystrix</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemrate-limitpolaris-li><a href=/zh-cn/overview/what/ecosystem/rate-limit/polaris/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemrate-limitpolaris><span>Polaris</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemtransaction-li><a href=/zh-cn/overview/what/ecosystem/transaction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemtransaction><span>全局事务</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemtransactionseata-li><a href=/zh-cn/overview/what/ecosystem/transaction/seata/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemtransactionseata><span>Seata</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemtracing-li><a href=/zh-cn/overview/what/ecosystem/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemtracing><span>链路追踪</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemtracingskywalking-li><a href=/zh-cn/overview/what/ecosystem/tracing/skywalking/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemtracingskywalking><span>Skywalking</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemtracingzipkin-li><a href=/zh-cn/overview/what/ecosystem/tracing/zipkin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemtracingzipkin><span>Zipkin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemtracingmicrometer-li><a href=/zh-cn/overview/what/ecosystem/tracing/micrometer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemtracingmicrometer><span>Micrometer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemtracingopentelemetry-li><a href=/zh-cn/overview/what/ecosystem/tracing/opentelemetry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemtracingopentelemetry><span>OpenTelemetry</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewwhatecosystemmonitoring-li><a href=/zh-cn/overview/what/ecosystem/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewwhatecosystemmonitoring><span>监控</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmonitoringgrafana-li><a href=/zh-cn/overview/what/ecosystem/monitoring/grafana/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmonitoringgrafana><span>Grafana</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmonitoringmicrometer-li><a href=/zh-cn/overview/what/ecosystem/monitoring/micrometer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmonitoringmicrometer><span>Micrometer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewwhatecosystemmonitoringprometheus-li><a href=/zh-cn/overview/what/ecosystem/monitoring/prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewwhatecosystemmonitoringprometheus><span>Prometheus</span></a></li></ul></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewcore-features-li><a href=/zh-cn/overview/core-features/ title="Dubbo 核心特性" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewcore-features><span>功能</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresservice-definition-li><a href=/zh-cn/overview/core-features/service-definition/ title="Dubbo 微服务开发" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresservice-definition><span>微服务开发</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresservice-discovery-li><a href=/zh-cn/overview/core-features/service-discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresservice-discovery><span>服务发现</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresload-balance-li><a href=/zh-cn/overview/core-features/load-balance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresload-balance><span>负载均衡</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewcore-featurestraffic-li><a href=/zh-cn/overview/core-features/traffic/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewcore-featurestraffic><span>流量管控</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featurestrafficcondition-rule-li><a href=/zh-cn/overview/core-features/traffic/condition-rule/ title=条件路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featurestrafficcondition-rule><span>条件路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featurestraffictag-rule-li><a href=/zh-cn/overview/core-features/traffic/tag-rule/ title=标签路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featurestraffictag-rule><span>标签路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featurestrafficscript-rule-li><a href=/zh-cn/overview/core-features/traffic/script-rule/ title=脚本路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featurestrafficscript-rule><span>脚本路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featurestrafficconfiguration-rule-li><a href=/zh-cn/overview/core-features/traffic/configuration-rule/ title=动态配置规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featurestrafficconfiguration-rule><span>动态配置</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featurestrafficmesh-rule-li><a href=/zh-cn/overview/core-features/traffic/mesh-rule/ title=基于服务网格的路由规则 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featurestrafficmesh-rule><span>服务网格</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresprotocols-li><a href=/zh-cn/overview/core-features/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresprotocols><span>通信协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresextensibility-li><a href=/zh-cn/overview/core-features/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresextensibility><span>扩展适配</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresobservability-li><a href=/zh-cn/overview/core-features/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresobservability><span>观测服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuressecurity-li><a href=/zh-cn/overview/core-features/security/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuressecurity><span>认证鉴权</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresservice-mesh-li><a href=/zh-cn/overview/core-features/service-mesh/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresservice-mesh><span>服务网格</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresecosystem-li><a href=/zh-cn/overview/core-features/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresecosystem><span>微服务生态</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewcore-featuresmore-li><a href=/zh-cn/overview/core-features/more/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewcore-featuresmore><span>更多高级功能</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewtasks-li><a href=/zh-cn/overview/tasks/ title="跟随示例任务学习 Dubbo" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasks><span>任务</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksdevelop-li><a href=/zh-cn/overview/tasks/develop/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksdevelop><span>开发服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdeveloptemplate-li><a href=/zh-cn/overview/tasks/develop/template/ title=通过模板生成项目脚手架 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdeveloptemplate><span>生成项目</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopservice_reference-li><a href=/zh-cn/overview/tasks/develop/service_reference/ title=开发服务 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopservice_reference><span>发布和调用 Dubbo 服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopasync-li><a href=/zh-cn/overview/tasks/develop/async/ title=异步调用 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopasync><span>Provider端和Consumer端异步调用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopversion_group-li><a href=/zh-cn/overview/tasks/develop/version_group/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopversion_group><span>版本与分组</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopcontext-li><a href=/zh-cn/overview/tasks/develop/context/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopcontext><span>上下文参数传递</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopgeneric-li><a href=/zh-cn/overview/tasks/develop/generic/ title=开发服务 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopgeneric><span>泛化调用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdevelopidl-li><a href=/zh-cn/overview/tasks/develop/idl/ title="使用 IDL 定义与开发服务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdevelopidl><span>IDL开发服务</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksdeploy-li><a href=/zh-cn/overview/tasks/deploy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksdeploy><span>部署服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdeploydeploy-on-vm-li><a href=/zh-cn/overview/tasks/deploy/deploy-on-vm/ title="部署 Dubbo 应用到虚拟机环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdeploydeploy-on-vm><span>部署到虚拟机</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdeploydeploy-on-docker-li><a href=/zh-cn/overview/tasks/deploy/deploy-on-docker/ title="部署 Dubbo 应用到 Docker 环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdeploydeploy-on-docker><span>部署到 Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdeploydeploy-on-k8s-containerd-li><a href=/zh-cn/overview/tasks/deploy/deploy-on-k8s-containerd/ title="部署 Dubbo 应用到 Kubernetes + Containerd 环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdeploydeploy-on-k8s-containerd><span>部署到 Kubernetes + Containerd</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksdeploydeploy-on-k8s-docker-li><a href=/zh-cn/overview/tasks/deploy/deploy-on-k8s-docker/ title="部署 Dubbo 应用到 Kubernetes + Docker 环境" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksdeploydeploy-on-k8s-docker><span>部署到 Kubernetes + Docker</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtaskstraffic-management-li><a href=/zh-cn/overview/tasks/traffic-management/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtaskstraffic-management><span>流量管控</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementtimeout-li><a href=/zh-cn/overview/tasks/traffic-management/timeout/ title=动态调整服务超时时间 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementtimeout><span>调整超时时间</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementretry-li><a href=/zh-cn/overview/tasks/traffic-management/retry/ title=通过重试提高服务调用成功率 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementretry><span>服务重试</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementaccesslog-li><a href=/zh-cn/overview/tasks/traffic-management/accesslog/ title=通过动态开启访问日志跟踪服务调用情况 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementaccesslog><span>访问日志</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementregion-li><a href=/zh-cn/overview/tasks/traffic-management/region/ title=同机房/区域优先 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementregion><span>同区域优先</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementisolation-li><a href=/zh-cn/overview/tasks/traffic-management/isolation/ title=通过标签实现流量隔离环境（灰度、多套开发环境等） class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementisolation><span>环境隔离</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementarguments-li><a href=/zh-cn/overview/tasks/traffic-management/arguments/ title=根据请求参数引导流量分布 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementarguments><span>参数路由</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementweight-li><a href=/zh-cn/overview/tasks/traffic-management/weight/ title=基于权重值的比例流量转发 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementweight><span>权重比例</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementmock-li><a href=/zh-cn/overview/tasks/traffic-management/mock/ title=在大促之前对弱依赖调用进行服务降级 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementmock><span>服务降级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstraffic-managementhost-li><a href=/zh-cn/overview/tasks/traffic-management/host/ title="将流量点对点引导到一台机器 (如排查问题)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstraffic-managementhost><span>固定机器导流</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksecosystem-li><a href=/zh-cn/overview/tasks/ecosystem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksecosystem><span>微服务生态</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemtransaction-li><a href=/zh-cn/overview/tasks/ecosystem/transaction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemtransaction><span>事务管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemgateway-li><a href=/zh-cn/overview/tasks/ecosystem/gateway/ title="通过网关将 http 流量接入 Dubbo 后端服务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemgateway><span>HTTP网关</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemrate-limit-li><a href=/zh-cn/overview/tasks/ecosystem/rate-limit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemrate-limit><span>限流降级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemconfiguration-li><a href=/zh-cn/docs3-v2/java-sdk/reference-manual/config-center/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemconfiguration><i class="fas fa-external-link-alt"></i><span>配置中心</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemmetadata-center-li><a href=/zh-cn/docs3-v2/java-sdk/reference-manual/metadata-center/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemmetadata-center><i class="fas fa-external-link-alt"></i><span>元数据中心</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksecosystemregistry-li><a href=/zh-cn/docs3-v2/java-sdk/reference-manual/registry/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksecosystemregistry><i class="fas fa-external-link-alt"></i><span>注册中心</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksobservability-li><a href=/zh-cn/overview/tasks/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksobservability><span>观测服务</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksobservabilityadmin-li><a href=/zh-cn/overview/tasks/observability/admin/ title="使用 Admin 可视化查看集群状态" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksobservabilityadmin><span>Admin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksobservabilitygrafana-li><a href=/zh-cn/overview/tasks/observability/grafana/ title="使用 Grafana 可视化查看集群 Metrics 指标" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksobservabilitygrafana><span>Grafana</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksobservabilityprometheus-li><a href=/zh-cn/overview/tasks/observability/prometheus/ title="从 Prometheus 查询 Metrics 监控指标" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksobservabilityprometheus><span>Prometheus</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksobservabilitytracing-li><a href=/zh-cn/overview/tasks/observability/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksobservabilitytracing><span>全链路追踪</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksobservabilitytracingzipkin-li><a href=/zh-cn/overview/tasks/observability/tracing/zipkin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksobservabilitytracingzipkin><span>Zipkin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksobservabilitytracingskywalking-li><a href=/zh-cn/overview/tasks/observability/tracing/skywalking/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksobservabilitytracingskywalking><span>Skywalking</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksprotocols-li><a href=/zh-cn/overview/tasks/protocols/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksprotocols><span>通信协议</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksprotocolsgrpc-li><a href=/zh-cn/overview/tasks/protocols/grpc/ title="使用 Dubbo 开发 gRPC 服务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksprotocolsgrpc><span>开发 gRPC 服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksprotocolsweb-li><a href=/zh-cn/overview/tasks/protocols/web/ title="使用 Dubbo 开发 Web 应用" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksprotocolsweb><span>开发 Web 应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksprotocolsspringcloud-li><a href=/zh-cn/overview/tasks/protocols/springcloud/ title="使用 Dubbo 作为消费端调用 Spring Cloud 服务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksprotocolsspringcloud><span>调用 Spring Cloud</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksprotocolsmulti-protocols-li><a href=/zh-cn/overview/tasks/protocols/multi-protocols/ title=发布使用不同协议的多个服务，通过单端口监听 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksprotocolsmulti-protocols><span>单端口多协议</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtasksextensibility-li><a href=/zh-cn/overview/tasks/extensibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtasksextensibility><span>自定义扩展</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksextensibilityfilter-li><a href=/zh-cn/overview/tasks/extensibility/filter/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksextensibilityfilter><span>Filter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksextensibilityprotocol-li><a href=/zh-cn/overview/tasks/extensibility/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksextensibilityprotocol><span>Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksextensibilityregistry-li><a href=/zh-cn/overview/tasks/extensibility/registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksextensibilityregistry><span>Registry</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtasksextensibilityrouter-li><a href=/zh-cn/overview/tasks/extensibility/router/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtasksextensibilityrouter><span>Router</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewtaskstroubleshoot-li><a href=/zh-cn/overview/tasks/troubleshoot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewtaskstroubleshoot><span>故障排查</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstroubleshootstart-failed-li><a href=/zh-cn/overview/tasks/troubleshoot/start-failed/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstroubleshootstart-failed><span>应用启动失败</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstroubleshootno-provider-li><a href=/zh-cn/overview/tasks/troubleshoot/no-provider/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstroubleshootno-provider><span>地址找不到异常</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewtaskstroubleshootrequest-failed-li><a href=/zh-cn/overview/tasks/troubleshoot/request-failed/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewtaskstroubleshootrequest-failed><span>请求成功率低</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewreference-li><a href=/zh-cn/overview/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewreference><span>参考</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewreferenceintegrations-li><a href=/zh-cn/overview/reference/integrations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewreferenceintegrations><span>集成适配</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceintegrationsprometheus-li><a href=/zh-cn/overview/reference/integrations/prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceintegrationsprometheus><span>Prometheus</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceintegrationsgrafana-li><a href=/zh-cn/overview/reference/integrations/grafana/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceintegrationsgrafana><span>Grafana</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-zh-cnoverviewreferenceproposals-li><a href=/zh-cn/overview/reference/proposals/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewreferenceproposals><span>Proposals</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsprotocol-http-li><a href=/zh-cn/overview/reference/proposals/protocol-http/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsprotocol-http><span>Rest 协议</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsregistry-config-meta-li><a href=/zh-cn/overview/reference/proposals/registry-config-meta/ title=注册中心、配置中心和元数据中心 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsregistry-config-meta><span>注册&配置&元数据中心</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsadmin-li><a href=/zh-cn/overview/reference/proposals/admin/ title="Dubbo Admin 控制面总体架构设计" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsadmin><span>Admin 架构设计</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsmetrics-li><a href=/zh-cn/overview/reference/proposals/metrics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsmetrics><span>指标埋点</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsheuristic-flow-control-li><a href=/zh-cn/overview/reference/proposals/heuristic-flow-control/ title=自适应负载均衡与限流 class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsheuristic-flow-control><span>服务柔性</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewreferenceproposalsservice-discovery-li><a href=/zh-cn/overview/reference/proposals/service-discovery/ title="Dubbo3 应用级服务发现设计" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewreferenceproposalsservice-discovery><span>应用级服务发现</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zh-cnoverviewmannual-li><a href=/zh-cn/overview/mannual/ title="Dubbo SDK 用户手册" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zh-cnoverviewmannual><span>SDK</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewmannualjava-li><a href=/zh-cn/docs3-v2/java-sdk/ title="Java SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewmannualjava><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewmannualgolang-li><a href=/zh-cn/docs3-v2/golang-sdk/ title="Golang SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewmannualgolang><span>Golang</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-zh-cnoverviewmannualrust-li><a href=/zh-cn/docs3-v2/rust-sdk/ title="Rust SDK" target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zh-cnoverviewmannualrust><span>Rust</span></a></li></ul></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://cn.dubbo.apache.org/zh-cn/overview/>文档</a></li><li class=breadcrumb-item><a href=https://cn.dubbo.apache.org/zh-cn/overview/what/>介绍</a></li><li class=breadcrumb-item><a href=https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/>生态</a></li><li class=breadcrumb-item><a href=https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/protocol/>协议</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://cn.dubbo.apache.org/zh-cn/overview/what/ecosystem/protocol/http/ aria-disabled=true class="btn-link disabled">http</a></li></ol></nav><div class=td-content><h1>http</h1><header class=article-meta></header><p>基于标准的 Java REST API——JAX-RS 2.0（Java API for RESTful Web Services 的简写）实现的 REST 调用支持</p><h2 id=特性说明>特性说明</h2><p>此协议提供通过 web 访问服务的简单方式，将服务与其他基于 web 的应用程序集成。
支持 JSON、XML 和 Text 格式的请求和响应，发布和使用服务的便捷方式,也提供了服务版本控制、服务过滤、服务元数据和服务参数, 实现 Dubbo 框架的灵活性和可伸缩性。</p><h2 id=使用场景>使用场景</h2><h2 id=使用方式>使用方式</h2><h3 id=快速入门>快速入门</h3><p>在 dubbo 中开发一个 REST 风格的服务会比较简单，下面以一个注册用户的简单服务为例说明。</p><p>这个服务要实现的功能是提供如下 URL（注：这个URL不是完全符合 REST 的风格，但是更简单实用）</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8080/users/register
</span></span></code></pre></div><p>而任何客户端都可以将包含用户信息的 JSON 字符串 POST 到以上 URL 来完成用户注册。</p><p>首先，开发服务的接口</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>    
</span></span><span style=display:flex><span>   <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>然后，开发服务的实现</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@POST</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#586e75>// save the user...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>上面的实现非常简单，但是由于该 REST 服务是要发布到指定 URL 上，供任意语言的客户端甚至浏览器来访问，所以这里额外添加了几个 JAX-RS 的标准 annotation 来做相关的配置。</p><p>@Path(&ldquo;users&rdquo;)：指定访问 UserService 的 URL 相对路径是 /users，即 http://localhost:8080/users</p><p>@Path(&ldquo;register&rdquo;)：指定访问 registerUser() 方法的 URL 相对路径是 /register，再结合上一个 @Path为UserService 指定的路径，则调用 UserService.register() 的完整路径为 http://localhost:8080/users/register</p><p>@POST：指定访问 registerUser()用HTTP POST方法</p><p>@Consumes({MediaType.APPLICATION_JSON})：指定 registerUser() 接收 JSON 格式的数据。REST 框架会自动将 JSON 数据反序列化为 User 对象</p><p>最后，在 spring 配置文件中添加此服务，即完成所有服务开发工作</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#586e75>&lt;!-- 用rest协议在8080端口暴露服务 --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8080&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>&lt;!-- 声明需要暴露的服务接口 --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:service</span> interface=<span style=color:#2aa198>&#34;xxx.UserService&#34;</span> ref=<span style=color:#2aa198>&#34;userService&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75>&lt;!-- 和本地bean一样实现服务 --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;bean</span> id=<span style=color:#2aa198>&#34;userService&#34;</span> class=<span style=color:#2aa198>&#34;xxx.UserServiceImpl&#34;</span> <span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><h3 id=rest-服务提供端>REST 服务提供端</h3><p>下面我们扩充“快速入门”中的UserService，进一步展示在dubbo中REST服务提供端的开发要点。</p><h3 id=http-postget-的实现>HTTP POST/GET 的实现</h3><p>REST 服务中虽然建议使用 HTTP 协议中四种标准方法 POST、DELETE、PUT、GET 来分别实现常见的“增删改查”，但实际中，我们一般情况直接用POST来实现“增改”，GET 来实现“删查”即可（DELETE 和 PUT 甚至会被一些防火墙阻挡）。</p><p>前面已经简单演示了 POST 的实现，在此，我们为 UserService 添加一个获取注册用户资料的功能，来演示 GET 的实现。</p><p>这个功能就是要实现客户端通过访问如下不同 URL 来获取不同 ID 的用户资料</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8080/users/1001
</span></span><span style=display:flex><span>http://localhost:8080/users/1002
</span></span><span style=display:flex><span>http://localhost:8080/users/1003
</span></span></code></pre></div><p>当然，也可以通过其他形式的URL来访问不同 ID 的用户资料，例如</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8080/users/load?id=1001
</span></span></code></pre></div><p>JAX-RS 本身可以支持所有这些形式。但是上面那种在 URL 路径中包含查询参数的形式（http://localhost:8080/users/1001） 更符合 REST 的一般习惯，所以更推荐大家来使用。下面我们就为 UserService 添加一个 getUser() 方法来实现这种形式的 URL 访问</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@GET</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// ...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>@GET：指定用 HTTP GET 方法访问</p><p>@Path("{id : \d+}")：根据上面的功能需求，访问 getUser() 的 URL 应当是 “http://localhost:8080/users/ + 任意数字"，并且这个数字要被做为参数传入 getUser() 方法。 这里的 annotation 配置中，@Path中间的 {id: xxx} 指定 URL 相对路径中包含了名为id参数，而它的值也将被自动传递给下面用 @PathParam(&ldquo;id&rdquo;) 修饰的方法参数 id。{id:后面紧跟的\d+ 是一个正则表达式，指定了 id 参数必须是数字。</p><p>@Produces({MediaType.APPLICATION_JSON})：指定getUser()输出JSON格式的数据。框架会自动将User对象序列化为JSON数据。</p><h3 id=annotation>Annotation</h3><p>在 Dubbo 中开发 REST 服务主要都是通过 JAX-RS的annotation 来完成配置的，在上面的示例中，我们都是将 annotation 放在服务的实现类中。但其实，我们完全也可以将 annotation 放到服务的接口上，这两种方式是完全等价的，例如：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@GET</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>在一般应用中，我们建议将 annotation 放到服务实现类，这样 annotation 和 java 实现代码位置更接近，更便于开发和维护。另外更重要的是，我们一般倾向于避免对接口的污染，保持接口的纯净性和广泛适用性。</p><p>但是，如后文所述，如果我们要用 dubbo 直接开发的消费端来访问此服务，则 annotation 必须放到接口上。</p><p>如果接口和实现类都同时添加了 annotation，则实现类的 annotation 配置会生效，接口上的 annotation 被直接忽略。</p><h3 id=多数据格式支持>多数据格式支持</h3><p>在 dubbo 中开发的 REST 服务可以同时支持传输多种格式的数据，以给客户端提供最大的灵活性。其中我们目前对最常用的 JSON 和 XML 格式特别添加了额外的功能。</p><p>比如，我们要让上例中的getUser()方法支持分别返回 JSON 和 XML 格式的数据，只需要在 annotation 中同时包含两种格式即可</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span></code></pre></div><p>或者也可以直接用字符串（还支持通配符）表示 MediaType</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span><span style=color:#2aa198>&#34;application/json&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;text/xml&#34;</span><span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span></code></pre></div><p>如果所有方法都支持同样类型的输入输出数据格式，则我们无需在每个方法上做配置，只需要在服务类上添加 annotation 即可</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// ...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>在一个 REST 服务同时对多种数据格式支持的情况下，根据 JAX-RS 标准，一般是通过HTTP中的MIME header（content-type和accept）来指定当前想用的是哪种格式的数据。</p><p>但是在 dubbo 中，我们还自动支持目前业界普遍使用的方式，即用一个 URL 后缀（.json和.xml）来指定想用的数据格式。例如，在添加上述 annotation后，直接访问 http://localhost:8888/users/1001.json 则表示用 json 格式，直接访问 http://localhost:8888/users/1002.xml 则表示用 xml 格式，比用 HTTP Header 更简单直观。Twitter、微博等的 REST API 都是采用这种方式。
如果你既不加 HTTP header，也不加后缀，则 dubbo 的 REST 会优先启用在以上 annotation 定义中排位最靠前的那种数据格式。</p><blockquote><p>注意：这里要支持 XML 格式数据，在 annotation 中既可以用 MediaType.TEXT_XML，也可以用 MediaType.APPLICATION_XML，但是 TEXT_XML 是更常用的，并且如果要利用上述的 URL 后缀方式来指定数据格式，只能配置为 TEXT_XML 才能生效。</p></blockquote><h3 id=中文字符支持>中文字符支持</h3><p>为了在 dubbo REST 中正常输出中文字符，和通常的 Java web 应用一样，我们需要将 HTTP 响应的 contentType 设置为 UTF-8编码。</p><p>基于 JAX-RS 的标准用法，我们只需要做如下 annotation 配置即可：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span><span style=color:#2aa198>&#34;application/json; charset=UTF-8&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;text/xml; charset=UTF-8&#34;</span><span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span></code></pre></div><p>为了方便用户，我们在 dubbo REST 中直接添加了一个支持类，来定义以上的常量，可以直接使用，减少出错的可能性。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>ContentType<span style=color:#719e07>.</span>APPLICATION_JSON_UTF_8<span style=color:#719e07>,</span> ContentType<span style=color:#719e07>.</span>TEXT_XML_UTF_8<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span></code></pre></div><h3 id=xml-数据格式>XML 数据格式</h3><p>由于 JAX-RS 的实现一般都用标准的 JAXB（Java API for XML Binding）来序列化和反序列化 XML 格式数据，所以我们需要为每一个要用 XML 传输的对象添加一个类级别的 JAXB annotation，否则序列化将报错。例如为 getUser() 中返回的 User 添加如下</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@XmlRootElement</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#586e75>// ...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>此外，如果service方法中的返回值是Java的 primitive类型（如int，long，float，double等），最好为它们添加一层wrapper对象，因为JAXB不能直接序列化primitive类型。</p><p>例如，我们想让前述的registerUser()方法返回服务器端为用户生成的ID号：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#dc322f>long</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
</span></span></code></pre></div><p>由于 primitive 类型不被 JAXB 序列化支持，所以添加一个 wrapper 对象：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@XmlRootElement</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>RegistrationResult</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> Long id<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#268bd2>RegistrationResult</span><span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#268bd2>RegistrationResult</span><span style=color:#719e07>(</span>Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>this</span><span style=color:#719e07>.</span>id <span style=color:#719e07>=</span> id<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> Long <span style=color:#268bd2>getId</span><span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> id<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>setId</span><span style=color:#719e07>(</span>Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>this</span><span style=color:#719e07>.</span>id <span style=color:#719e07>=</span> id<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>并修改 service 方法：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>RegistrationResult <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
</span></span></code></pre></div><p>这样不但能够解决 XML 序列化的问题，而且使得返回的数据都符合 XML 和 JSON 的规范。例如，在 JSON中，返回的将是如下形式</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>{<span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>:</span> <span style=color:#2aa198>1001</span>}
</span></span></code></pre></div><p>如果不加 wrapper，JSON 返回值将直接是</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>1001 	
</span></span></code></pre></div><p>而在 XML 中，加 wrapper 后返回值将是：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;registrationResult&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;id&gt;</span>1002<span style=color:#268bd2>&lt;/id&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/registrationResult&gt;</span>
</span></span></code></pre></div><p>这种 wrapper 对象其实利用所谓 Data Transfer Object（DTO）模式，采用 DTO 还能对传输数据做更多有用的定制。</p><h3 id=定制序列化>定制序列化</h3><p>如上所述，REST 的底层实现会在 service 的对象和 JSON/XML 数据格式之间自动做序列化/反序列化。但有些场景下，如果觉得这种自动转换不满足要求，可以对其做定制。</p><p>Dubbo 中的 REST 实现是用 JAXB 做 XML 序列化，用 Jackson 做 JSON 序列化，所以在对象上添加 JAXB 或 Jackson 的 annotation 即可以定制映射。</p><p>例如，定制对象属性映射到 XML 元素的名字：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@XmlRootElement</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@XmlAccessorType</span><span style=color:#719e07>(</span>XmlAccessType<span style=color:#719e07>.</span>FIELD<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@XmlElement</span><span style=color:#719e07>(</span>name<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;username&#34;</span><span style=color:#719e07>)</span> 
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> String name<span style=color:#719e07>;</span>  
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>定制对象属性映射到 JSON 字段的名字：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@JsonProperty</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;username&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> String name<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>更多资料请参考 JAXB 和 Jackson 的官方文档，或自行 google。</p><h3 id=rest-server-的实现>REST Server 的实现</h3><p>目前在 dubbo 中，我们支持5种嵌入式 rest server 的实现，并同时支持采用外部应用服务器来做 rest server 的实现。rest server 可以通过如下配置实现：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;jetty&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>以上配置选用了嵌入式的 jetty 来做 rest server，同时，如果不配置 server 属性，rest 协议默认也是选用 jetty。jetty 是非常成熟的 java servlet 容器，并和 dubbo 已经有较好的集成（目前5种嵌入式 server 中只有 jetty 和后面所述的 tomcat、tjws，与 dubbo 监控系统等完成了无缝的集成），所以，如果你的 dubbo 系统是单独启动的进程，你可以直接默认采用 jetty 即可。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;tomcat&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>以上配置选用了嵌入式的 tomcat 来做 rest server。在嵌入式 tomcat 上，REST 的性能比 jetty 上要好得多（参见后面的基准测试），建议在需要高性能的场景下采用 tomcat。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;netty&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>以上配置选用嵌入式的 netty 来做 rest server。（TODO more contents to add）</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;tjws&#34;</span><span style=color:#268bd2>/&gt;</span> (tjws is now deprecated)
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;sunhttp&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>以上配置选用嵌入式的 tjws 或 Sun HTTP server 来做 rest server。这两个 server 实现非常轻量级，非常方便在集成测试中快速启动使用，当然也可以在负荷不高的生产环境中使用。 注：tjws目前已经被deprecated掉了，因为它不能很好的和servlet 3.1 API工作。</p><p>如果你的 dubbo 系统不是单独启动的进程，而是部署到了 Java 应用服务器中，则建议你采用以下配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;servlet&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>通过将 server 设置为 servlet，dubbo 将采用外部应用服务器的 servlet 容器来做 rest server。同时，还要在 dubbo 系统的 web.xml 中添加如下配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;web-app&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;context-param&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#268bd2>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;param-value&gt;</span>/WEB-INF/classes/META-INF/spring/dubbo-demo-provider.xml<span style=color:#268bd2>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/context-param&gt;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;listener&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;listener-class&gt;</span>org.apache.dubbo.remoting.http.servlet.BootstrapListener<span style=color:#268bd2>&lt;/listener-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/listener&gt;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;listener&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span style=color:#268bd2>&lt;/listener-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/listener&gt;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;servlet-class&gt;</span>org.apache.dubbo.remoting.http.servlet.DispatcherServlet<span style=color:#268bd2>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;load-on-startup&gt;</span>1<span style=color:#268bd2>&lt;/load-on-startup&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;url-pattern&gt;</span>/*<span style=color:#268bd2>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/servlet-mapping&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/web-app&gt;</span>
</span></span></code></pre></div><p>即必须将 dubbo 的 BootstrapListener 和 DispatherServlet 添加到 web.xml，以完成 dubbo 的 REST 功能与外部 servlet 容器的集成。</p><blockquote><p>注意：如果你是用 spring 的 ContextLoaderListener 来加载 spring，则必须保证 BootstrapListener 配置在 ContextLoaderListener 之前，否则 dubbo 初始化会出错。
其实，这种场景下你依然可以坚持用嵌入式 server，但外部应用服务器的 servlet 容器往往比嵌入式 server 更加强大（特别是如果你是部署到更健壮更可伸缩的 WebLogic，WebSphere 等），另外有时也便于在应用服务器做统一管理、监控等等。</p></blockquote><h3 id=获取-context-信息>获取 Context 信息</h3><p>在远程调用中，值得获取的上下文信息可能有很多种，这里特别以获取客户端 IP 为例。</p><p>在 dubbo 的 REST 中，我们有两种方式获取客户端 IP。</p><p>第一种方式，用 JAX-RS 标准的 @Context annotation</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>,</span> <span style=color:#268bd2>@Context</span> HttpServletRequest request<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> request<span style=color:#719e07>.</span>getRemoteAddr<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span> 
</span></span></code></pre></div><p>用 Context 修饰 getUser() 的一个方法参数后，就可以将当前的 HttpServletRequest 注入进来，然后直接调用 servlet api 获取 IP。</p><blockquote><p>注意：这种方式只能在将server设置为 tjws、tomcat、jetty 或者 servlet 的时候才能工作，因为只有这几种 server 的实现才提供了 servlet 容器。另外，标准的JAX-RS还支持用@Context修饰service类的一个实例字段来获取HttpServletRequest，但在dubbo中我们没有对此作出支持。
第二种方式，用 dubbo 中常用的 RpcContext</p></blockquote><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRemoteAddressString<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span> 
</span></span></code></pre></div><blockquote><p>注意：这种方式只能在设置 server=&ldquo;jetty&rdquo; 或者 server=&ldquo;tomcat&rdquo; 或者 server=&ldquo;servlet&rdquo; 或者 server=&ldquo;tjws&rdquo; 的时候才能工作。另外，目前 dubbo 的 RpcContext 是一种比较有侵入性的用法，未来我们很可能会做出重构。
如果你想保持你的项目对 JAX-RS 的兼容性，未来脱离 dubbo 也可以运行，请选择第一种方式。如果你想要更优雅的服务接口定义，请选用第二种方式。</p></blockquote><p>此外，在最新的 dubbo rest 中，还支持通过 RpcContext 来获取 HttpServletRequest和 HttpServletResponse，以提供更大的灵活性来方便用户实现某些复杂功能，比如在 dubbo 标准的 filter 中访问 HTTP Header。用法示例如下</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>&amp;&amp;</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()</span> <span style=color:#719e07>instanceof</span> HttpServletRequest<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> <span style=color:#719e07>((</span>HttpServletRequest<span style=color:#719e07>)</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()).</span>getRemoteAddr<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>()</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>&amp;&amp;</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>()</span> <span style=color:#719e07>instanceof</span> HttpServletResponse<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Response object from RpcContext: &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><blockquote><p>注意：为了保持协议的中立性，RpcContext.getRequest()和RpcContext.getResponse()返回的仅仅是一个Object类，而且可能为null。所以，你必须自己做null和类型的检查。
注意：只有在设置server=&ldquo;jetty"或者server=&ldquo;tomcat"或者server=&ldquo;servlet"的时候，你才能通过以上方法正确的得到HttpServletRequest和HttpServletResponse，因为只有这几种server实现了servlet容器。
为了简化编程，在此你也可以用泛型的方式来直接获取特定类型的 request/response：</p></blockquote><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>(</span>HttpServletRequest<span style=color:#719e07>.</span>class<span style=color:#719e07>)</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span><span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>(</span>HttpServletRequest<span style=color:#719e07>.</span>class<span style=color:#719e07>).</span>getRemoteAddr<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>(</span>HttpServletResponse<span style=color:#719e07>.</span>class<span style=color:#719e07>)</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span><span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Response object from RpcContext: &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>(</span>HttpServletResponse<span style=color:#719e07>.</span>class<span style=color:#719e07>));</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>如果 request/response 不符合指定的类型，这里也会返回 null。</p><h3 id=端口号和-context-path>端口号和 Context Path</h3><p>dubbo 中的 rest 协议默认将采用80端口，如果想修改端口，直接配置：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>另外，如前所述，我们可以用 @Path 来配置单个 rest 服务的 URL 相对路径。但其实，我们还可以设置一个所有 rest 服务都适用的基础相对路径，即 java web 应用中常说的 context path。</p><p>只需要添加如下 contextpath 属性即可：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> contextpath=<span style=color:#2aa198>&#34;services&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>以前面代码为例：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@POST</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#586e75>// save the user...
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>	
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>现在 registerUser() 的完整访问路径</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8888/services/users/register
</span></span></code></pre></div><p>注意：如果你是选用外部应用服务器做 rest server，即配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> contextpath=<span style=color:#2aa198>&#34;services&#34;</span> server=<span style=color:#2aa198>&#34;servlet&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>则必须保证这里设置的 port、contextpath，与外部应用服务器的端口、DispatcherServlet 的上下文路径（即 webapp path 加上 servlet url pattern）保持一致。例如，对于部署为 tomcat ROOT 路径的应用，这里的 contextpath 必须与 web.xml 中 DispacherServlet 的<code>&lt;url-pattern/></code> 完全一致：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#268bd2>&lt;url-pattern&gt;</span>/services/*<span style=color:#268bd2>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div><h3 id=线程数和-io-线程数>线程数和 IO 线程数</h3><p>可以为 rest 服务配置线程池大小</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> threads=<span style=color:#2aa198>&#34;500&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><blockquote><p>注意：目前线程池的设置只有当server=&ldquo;netty"或者server=&ldquo;jetty"或者server=&ldquo;tomcat"的时候才能生效。另外，如果server=&ldquo;servlet&rdquo;，由于这时候启用的是外部应用服务器做rest server，不受dubbo控制，所以这里的线程池设置也无效。
如果是选用 netty server，还可以配置 Netty 的 IO worker 线程数</p></blockquote><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> iothreads=<span style=color:#2aa198>&#34;5&#34;</span> threads=<span style=color:#2aa198>&#34;100&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><h3 id=配置长连接>配置长连接</h3><p>Dubbo 中的 rest 服务默认都是采用 http 长连接来访问，如果想切换为短连接，直接配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> keepalive=<span style=color:#2aa198>&#34;false&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><blockquote><p>注意：这个配置目前只对 server=&ldquo;netty"和server=&ldquo;tomcat&rdquo; 才能生效。</p></blockquote><h3 id=最大-http-连接数>最大 HTTP 连接数</h3><p>可以配置服务器提供端所能同时接收的最大 HTTP 连接数，防止 REST server 被过多连接撑爆，以作为一种最基本的自我保护机制</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> accepts=<span style=color:#2aa198>&#34;500&#34;</span> server=<span style=color:#2aa198>&#34;tomcat/</span><span style=color:#268bd2>&gt;</span>
</span></span></code></pre></div><blockquote><p>注意：这个配置目前只对server=&ldquo;tomcat"才能生效。</p></blockquote><h3 id=每个消费端的超时时间和-http-连接数>每个消费端的超时时间和 HTTP 连接数</h3><p>如果 rest 服务的消费端也是 dubbo 系统，可以像其他 dubbo RPC 机制一样，配置消费端调用此 rest 服务的最大超时时间以及每个消费端所能启动的最大 HTTP 连接数。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:service</span> interface=<span style=color:#2aa198>&#34;xxx&#34;</span> ref=<span style=color:#2aa198>&#34;xxx&#34;</span> protocol=<span style=color:#2aa198>&#34;rest&#34;</span> timeout=<span style=color:#2aa198>&#34;2000&#34;</span> connections=<span style=color:#2aa198>&#34;10&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>当然，由于这个配置针对消费端生效的，所以也可以在消费端配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:reference</span> id=<span style=color:#2aa198>&#34;xxx&#34;</span> interface=<span style=color:#2aa198>&#34;xxx&#34;</span> timeout=<span style=color:#2aa198>&#34;2000&#34;</span> connections=<span style=color:#2aa198>&#34;10&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>但是，通常我们建议配置在服务提供端提供此类配置。按照 dubbo 官方文档的说法：“Provider 上尽量多配置 Consumer 端的属性，让 Provider 实现者一开始就思考 Provider 服务特点、服务质量的问题。”</p><blockquote><p>注意：如果 dubbo 的 REST 服务是发布给非 dubbo 的客户端使用，则这里 <code>&lt;dubbo:service/></code> 上的配置完全无效，因为这种客户端不受 dubbo 控制。</p></blockquote><h3 id=annotation-取代部分-spring-xml-配置>Annotation 取代部分 Spring XML 配置</h3><p>以上所有的讨论都是基于 dubbo 在 spring 中的 xml 配置。但是，dubbo/spring 本身也支持用 annotation 来作配置，所以我们也可以按dubbo官方文档中的步骤，把相关 annotation 加到 REST 服务的实现中，取代一些 xml 配置，例如</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>@Service</span><span style=color:#719e07>(</span>protocol <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;rest&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>private</span> UserRepository userRepository<span style=color:#719e07>;</span>
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@POST</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#586e75>// save the user
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>        userRepository<span style=color:#719e07>.</span>save<span style=color:#719e07>(</span>user<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>	
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>annotation 的配置更简单更精确，通常也更便于维护（当然现代IDE都可以在xml中支持比如类名重构，所以就这里的特定用例而言，xml 的维护性也很好）。而 xml 对代码的侵入性更小一些，尤其有利于动态修改配置，特别是比如你要针对单个服务配置连接超时时间、每客户端最大连接数、集群策略、权重等等。另外，特别对复杂应用或者模块来说，xml 提供了一个中心点来涵盖的所有组件和配置，更一目了然，一般更便于项目长时期的维护。
当然，选择哪种配置方式没有绝对的优劣，和个人的偏好也不无关系。</p><h3 id=添加自定义的-filterinterceptor>添加自定义的 Filter、Interceptor</h3><p>Dubbo 的 REST 也支持 JAX-RS 标准的 Filter 和 Interceptor，以方便对 REST 的请求与响应过程做定制化的拦截处理。
其中，Filter 主要用于访问和设置 HTTP 请求和响应的参数、URI 等等。例如，设置 HTTP 响应的 cache header：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>CacheControlFilter</span> <span style=color:#268bd2>implements</span> ContainerResponseFilter <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>filter</span><span style=color:#719e07>(</span>ContainerRequestContext req<span style=color:#719e07>,</span> ContainerResponseContext res<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>if</span> <span style=color:#719e07>(</span>req<span style=color:#719e07>.</span>getMethod<span style=color:#719e07>().</span>equals<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;GET&#34;</span><span style=color:#719e07>))</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>            res<span style=color:#719e07>.</span>getHeaders<span style=color:#719e07>().</span>add<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Cache-Control&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;someValue&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>Interceptor 主要用于访问和修改输入与输出字节流，例如，手动添加 GZIP 压缩</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>GZIPWriterInterceptor</span> <span style=color:#268bd2>implements</span> WriterInterceptor <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#268bd2>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>aroundWriteTo</span><span style=color:#719e07>(</span>WriterInterceptorContext context<span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#268bd2>throws</span> IOException<span style=color:#719e07>,</span> WebApplicationException <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        OutputStream outputStream <span style=color:#719e07>=</span> context<span style=color:#719e07>.</span>getOutputStream<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>        context<span style=color:#719e07>.</span>setOutputStream<span style=color:#719e07>(</span><span style=color:#719e07>new</span> GZIPOutputStream<span style=color:#719e07>(</span>outputStream<span style=color:#719e07>));</span>
</span></span><span style=display:flex><span>        context<span style=color:#719e07>.</span>proceed<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>在标准 JAX-RS 应用中，我们一般是为 Filter 和 Interceptor 添加 @Provider annotation，然后 JAX-RS runtime 会自动发现并启用它们。而在 dubbo 中，我们是通过添加XML配置的方式来注册 Filter 和 Interceptor：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.TraceInterceptor, xxx.TraceFilter&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>在此，我们可以将 Filter、Interceptor 和 DynamicFeature 这三种类型的对象都添加到 <code>extension</code> 属性上，多个之间用逗号分隔。（DynamicFeature 是另一个接口，可以方便我们更动态的启用 Filter 和 Interceptor，感兴趣请自行 google。）
当然，dubbo 自身也支持 Filter 的概念，但我们这里讨论的 Filter 和 Interceptor 更加接近协议实现的底层，相比 dubbo 的 filter，可以做更底层的定制化。</p><blockquote><p>注：这里的 XML 属性叫 extension，而不是叫 interceptor 或者 filter，是因为除了 Interceptor 和 Filter，未来我们还会添加更多的扩展类型。
如果 REST 的消费端也是 dubbo 系统（参见下文的讨论），则也可以用类似方式为消费端配置 Interceptor 和 Filter。但注意，JAX-RS 中消费端的 Filter 和提供端的 Filter 是两种不同的接口。例如前面例子中服务端是 ContainerResponseFilter 接口，而消费端对应的是 ClientResponseFilter:</p></blockquote><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>LoggingFilter</span> <span style=color:#268bd2>implements</span> ClientResponseFilter <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>filter</span><span style=color:#719e07>(</span>ClientRequestContext reqCtx<span style=color:#719e07>,</span> ClientResponseContext resCtx<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> IOException <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;status: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getStatus<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;date: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getDate<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;last-modified: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getLastModified<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;location: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getLocation<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;headers:&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>	    <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>Entry<span style=color:#719e07>&lt;</span>String<span style=color:#719e07>,</span> List<span style=color:#719e07>&lt;</span>String<span style=color:#719e07>&gt;&gt;</span> header <span style=color:#719e07>:</span> resCtx<span style=color:#719e07>.</span>getHeaders<span style=color:#719e07>().</span>entrySet<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>     	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;\t&#34;</span> <span style=color:#719e07>+</span> header<span style=color:#719e07>.</span>getKey<span style=color:#719e07>()</span> <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34; :&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>	        <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>String value <span style=color:#719e07>:</span> header<span style=color:#719e07>.</span>getValue<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>	            System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span>value <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34;, &#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>	        <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>	        System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;\n&#34;</span><span style=color:#719e07>);</span>
</span></span><span style=display:flex><span>	    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;media-type: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getMediaType<span style=color:#719e07>().</span>getType<span style=color:#719e07>());</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span> 
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><h3 id=添加自定义的-exception-处理>添加自定义的 Exception 处理</h3><p>Dubbo 的 REST 也支持 JAX-RS 标准的 ExceptionMapper，可以用来定制特定 exception 发生后应该返回的 HTTP 响应。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>CustomExceptionMapper</span> <span style=color:#268bd2>implements</span> ExceptionMapper<span style=color:#719e07>&lt;</span>NotFoundException<span style=color:#719e07>&gt;</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>public</span> Response <span style=color:#268bd2>toResponse</span><span style=color:#719e07>(</span>NotFoundException e<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>     
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> Response<span style=color:#719e07>.</span>status<span style=color:#719e07>(</span>Response<span style=color:#719e07>.</span>Status<span style=color:#719e07>.</span>NOT_FOUND<span style=color:#719e07>).</span>entity<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Oops! the requested resource is not found!&#34;</span><span style=color:#719e07>).</span>type<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;text/plain&#34;</span><span style=color:#719e07>).</span>build<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>和 Interceptor、Filter 类似，将其添加到 XML 配置文件中即可启用</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.CustomExceptionMapper&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><h3 id=http-日志输出>HTTP 日志输出</h3><p>Dubbo rest 支持输出所有 HTTP 请求/响应中的 header 字段和 body 消息体。
在 XML 配置中添加如下自带的 REST filter：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;org.apache.dubbo.rpc.protocol.rest.support.LoggingFilter&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>然后配置在 logging 配置中至少为 org.apache.dubbo.rpc.protocol.rest.support 打开 INFO 级别日志输出，例如，在 log4j.xml 中配置</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;logger</span> name=<span style=color:#2aa198>&#34;org.apache.dubbo.rpc.protocol.rest.support&#34;</span><span style=color:#268bd2>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;level</span> value=<span style=color:#2aa198>&#34;INFO&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;appender-ref</span> ref=<span style=color:#2aa198>&#34;CONSOLE&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/logger&gt;</span>
</span></span></code></pre></div><p>当然，你也可以直接在 ROOT logger 打开 INFO 级别日志输出</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;root&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#268bd2>&lt;level</span> value=<span style=color:#2aa198>&#34;INFO&#34;</span> <span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#268bd2>&lt;appender-ref</span> ref=<span style=color:#2aa198>&#34;CONSOLE&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/root&gt;</span>
</span></span></code></pre></div><p>然后在日志中会有类似如下的内容输出</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>The HTTP headers are: 
</span></span><span style=display:flex><span>accept: application/json;charset=UTF-8
</span></span><span style=display:flex><span>accept-encoding: gzip, deflate
</span></span><span style=display:flex><span>connection: Keep-Alive
</span></span><span style=display:flex><span>content-length: 22
</span></span><span style=display:flex><span>content-type: application/json
</span></span><span style=display:flex><span>host: 192.168.1.100:8888
</span></span><span style=display:flex><span>user-agent: Apache-HttpClient/4.2.1 (java 1.5)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>The contents of request body is: 
</span></span><span style=display:flex><span>{&#34;id&#34;:1,&#34;name&#34;:&#34;dang&#34;}
</span></span></code></pre></div><p>打开 HTTP 日志输出后，除了正常日志输出的性能开销外，也会在比如 HTTP 请求解析时产生额外的开销，因为需要建立额外的内存缓冲区来为日志的输出做数据准备。</p><h3 id=输入参数的校验>输入参数的校验</h3><p>dubbo 的 rest 支持采用 Java 标准的 bean validation annotation（JSR 303) 来做输入校验 <a href=http://beanvalidation.org/>http://beanvalidation.org/</a>
为了和其他 dubbo 远程调用协议保持一致，在 rest 中作校验的 annotation 必须放在服务的接口上，例如</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@Min</span><span style=color:#719e07>(</span>value<span style=color:#719e07>=</span><span style=color:#2aa198>1L</span><span style=color:#719e07>,</span> message<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;User ID must be greater than 1&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>当然，在很多其他的 bean validation 的应用场景都是将 annotation 放到实现类而不是接口上。把 annotation 放在接口上至少有一个好处是，dubbo 的客户端可以共享这个接口的信息，dubbo 甚至不需要做远程调用，在本地就可以完成输入校验。
然后按照 dubbo 的标准方式在 XML 配置中打开验证：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:service</span> interface=<span style=color:#2aa198>xxx.UserService&#34;</span> ref=<span style=color:#2aa198>&#34;userService&#34;</span> protocol=<span style=color:#2aa198>&#34;rest&#34;</span> validation=<span style=color:#2aa198>&#34;true&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><p>在 dubbo 的其他很多远程调用协议中，如果输入验证出错，是直接将 <code>RpcException</code> 抛向客户端，而在 rest 中由于客户端经常是非 dubbo，甚至非 java 的系统，所以不便直接抛出 Java 异常。因此，目前我们将校验错误以 XML 的格式返回</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;violationReport&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;constraintViolations&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;path&gt;</span>getUserArgument0<span style=color:#268bd2>&lt;/path&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;message&gt;</span>User ID must be greater than 1<span style=color:#268bd2>&lt;/message&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&lt;value&gt;</span>0<span style=color:#268bd2>&lt;/value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>&lt;/constraintViolations&gt;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>&lt;/violationReport&gt;</span>
</span></span></code></pre></div><p>稍后也会支持其他数据格式的返回值。至于如何对验证错误消息作国际化处理，直接参考 bean validation 的相关文档即可。</p><p>如果你认为默认的校验错误返回格式不符合你的要求，可以如上面章节所述，添加自定义的 ExceptionMapper 来自由的定制错误返回格式。需要注意的是，这个 ExceptionMapper 必须用泛型声明来捕获 dubbo 的 RpcException，才能成功覆盖 dubbo rest 默认的异常处理策略。为了简化操作，其实这里最简单的方式是直接继承 dubbo rest 的 RpcExceptionMapper，并覆盖其中处理校验异常的方法即可</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>MyValidationExceptionMapper</span> <span style=color:#268bd2>extends</span> RpcExceptionMapper <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>protected</span> Response <span style=color:#268bd2>handleConstraintViolationException</span><span style=color:#719e07>(</span>ConstraintViolationException cve<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>        ViolationReport report <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ViolationReport<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>ConstraintViolation cv <span style=color:#719e07>:</span> cve<span style=color:#719e07>.</span>getConstraintViolations<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>            report<span style=color:#719e07>.</span>addConstraintViolation<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RestConstraintViolation<span style=color:#719e07>(</span>
</span></span><span style=display:flex><span>                    cv<span style=color:#719e07>.</span>getPropertyPath<span style=color:#719e07>().</span>toString<span style=color:#719e07>(),</span>
</span></span><span style=display:flex><span>                    cv<span style=color:#719e07>.</span>getMessage<span style=color:#719e07>(),</span>
</span></span><span style=display:flex><span>                    cv<span style=color:#719e07>.</span>getInvalidValue<span style=color:#719e07>()</span> <span style=color:#719e07>==</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>?</span> <span style=color:#2aa198>&#34;null&#34;</span> <span style=color:#719e07>:</span> cv<span style=color:#719e07>.</span>getInvalidValue<span style=color:#719e07>().</span>toString<span style=color:#719e07>()));</span>
</span></span><span style=display:flex><span>        <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>        <span style=color:#586e75>// 采用json输出代替xml输出
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>        <span style=color:#719e07>return</span> Response<span style=color:#719e07>.</span>status<span style=color:#719e07>(</span>Response<span style=color:#719e07>.</span>Status<span style=color:#719e07>.</span>INTERNAL_SERVER_ERROR<span style=color:#719e07>).</span>entity<span style=color:#719e07>(</span>report<span style=color:#719e07>).</span>type<span style=color:#719e07>(</span>ContentType<span style=color:#719e07>.</span>APPLICATION_JSON_UTF_8<span style=color:#719e07>).</span>build<span style=color:#719e07>();</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span><span style=color:#719e07>}</span>
</span></span></code></pre></div><p>然后将这个 ExceptionMapper 添加到 XML 配置中即可：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.MyValidationExceptionMapper&#34;</span><span style=color:#268bd2>/&gt;</span>
</span></span></code></pre></div><div id=pre-footer><h2>反馈</h2><p class=feedback--prompt>此页是否对您有帮助？</p><button class="btn btn-primary mb-4 feedback--yes">是</button>
<button class="btn btn-primary mb-4 feedback--no">否</button></div><script>const yes=document.querySelector(".feedback--yes"),no=document.querySelector(".feedback--no");document.querySelectorAll(".feedback--link").forEach(e=>{e.href=e.href+window.location.pathname});const sendFeedback=e=>{gtag||console.log("!gtag"),gtag("event","click",{event_category:"Helpful",event_label:window.location.pathname,value:e})},disableButtons=()=>{yes.disabled=!0,yes.classList.add("feedback--button__disabled"),no.disabled=!0,no.classList.add("feedback--button__disabled")};yes.addEventListener("click",()=>{sendFeedback(1),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")}),no.addEventListener("click",()=>{sendFeedback(0),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")})</script><br><div class="text-muted mt-5 pt-3 border-top">最后修改 February 22, 2023: <a href=https://github.com/apache/dubbo-website/commit/4517e8c1c9c4df55793a09aad36473e16a99fb35>Merge refactor website (#2293) (4517e8c1c9)</a></div></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/dubbo-website/edit/master/content/zh-cn/overview/what/ecosystem/protocol/http.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/apache/dubbo-website/new/master/content/zh-cn/overview/what/ecosystem/protocol/http.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 创建子页面</a>
<a href="https://github.com/apache/dubbo-website/issues/new?title=http" target=_blank><i class="fab fa-github fa-fw"></i> 登记问题</a>
<a href=https://github.com/apache/dubbo/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#特性说明>特性说明</a></li><li><a href=#使用场景>使用场景</a></li><li><a href=#使用方式>使用方式</a><ul><li><a href=#快速入门>快速入门</a></li><li><a href=#rest-服务提供端>REST 服务提供端</a></li><li><a href=#http-postget-的实现>HTTP POST/GET 的实现</a></li><li><a href=#annotation>Annotation</a></li><li><a href=#多数据格式支持>多数据格式支持</a></li><li><a href=#中文字符支持>中文字符支持</a></li><li><a href=#xml-数据格式>XML 数据格式</a></li><li><a href=#定制序列化>定制序列化</a></li><li><a href=#rest-server-的实现>REST Server 的实现</a></li><li><a href=#获取-context-信息>获取 Context 信息</a></li><li><a href=#端口号和-context-path>端口号和 Context Path</a></li><li><a href=#线程数和-io-线程数>线程数和 IO 线程数</a></li><li><a href=#配置长连接>配置长连接</a></li><li><a href=#最大-http-连接数>最大 HTTP 连接数</a></li><li><a href=#每个消费端的超时时间和-http-连接数>每个消费端的超时时间和 HTTP 连接数</a></li><li><a href=#annotation-取代部分-spring-xml-配置>Annotation 取代部分 Spring XML 配置</a></li><li><a href=#添加自定义的-filterinterceptor>添加自定义的 Filter、Interceptor</a></li><li><a href=#添加自定义的-exception-处理>添加自定义的 Exception 处理</a></li><li><a href=#http-日志输出>HTTP 日志输出</a></li><li><a href=#输入参数的校验>输入参数的校验</a></li></ul></li></ul></nav></div></div></div></div><footer class="bg-dark py-5 row d-print-none footer-margin-0"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dubbo mailing list archive" aria-label="Dubbo mailing list archive"><a class=text-white target=_blank rel="noopener noreferrer" href=https://lists.apache.org/list.html?dev@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/apache/dubbo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Subscribe to mailing list" aria-label="Subscribe to mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=mailto:dev-subscribe@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation. 保留所有权利</small></div></div></div></footer><div class="row pt-2 pb-2 footer-margin-0"><div class="container-fluid mx-sm-5"><div class=text-center id=my-footer><img style=float:left alt=apache_logo src=/imgs/apache_logo.png><ul><li><a href=https://www.apache.org>Foundation</a></li><li><a href=https://www.apache.org/licenses/>License</a></li><li><a href=https://www.apache.org/security/>Security</a></li><li><a href=https://www.apache.org/events/current-event>Events</a></li><li><a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a href=https://privacy.apache.org/policies/privacy-policy-public.html>Privacy</a></li><li><a href=https://www.apache.org/foundation/thanks.html>Thanks</a></li></ul></div></div></div><script src=/js/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script src=/js/main.min.b075178d232d3b0039b3cb6af2fc2e9d90071820167a60f4eea3a79169975ee8.js integrity="sha256-sHUXjSMtOwA5s8tq8vwunZAHGCAWemD07qOnkWmXXug=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script>docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch",debug:!1}),docsearch({appId:"L5F4T9F0I1",apiKey:"364ae307e1da9d02b2335675e9db1eb1",indexName:"apache_dubbo",container:"#docsearch_zh_home",debug:!1})</script></body></html>